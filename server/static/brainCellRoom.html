<html>

<head>
  <title>Brain Cell Room</title>
  <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.min.js"></script>
  <script src="easyrtc/easyrtc.js"></script>
  <script src="https://unpkg.com/networked-aframe/dist/networked-aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-animation-component@4.0.0/dist/aframe-animation-component.min.js"></script>
  <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>
  <script type="text/javascript" src="js/raycaster-autorefresh.component.js"></script>
  <script type="text/javascript" src="js/hide-if-not-mobile.component.js"></script>
  <script type="text/javascript" src="js/override-material.component.js"></script>
  <script type="text/javascript" src="js/assign-rotate.component.js"></script>
  <script type="text/javascript" src="js/scale-brain.component.js"></script>
  <script type="text/javascript" src="js/expand-brain.component.js"></script>
  <script type="text/javascript" src="https://unpkg.com/aframe-template-component@^3.2.1/dist/aframe-template-component.min.js"></script>
  <script type="text/javascript" src="js/aframe.propagate.js"></script>
  <script type="text/javascript" src="js/assign-microglia.component.js"></script>
  <script type="text/javascript" src="js/assign-channel.component.js"></script>
  <script type="text/javascript" src="js/scale-cells.component.js"></script>
  <script type="text/javascript" src="js/assign-skip.component.js"></script>
  <script type="text/javascript" src="js/slide-container.component.js"></script>
  <script type="text/javascript" src="js/play-button.component.js"></script>
  <script type="text/javascript" src="js/show-mri.component.js"></script>
  <script type="text/javascript" src="js/rotate-mri.component.js"></script>
  <script type="text/javascript" src="js/rotate-mriroom.component.js"></script>
  <script type="text/javascript" src="js/slice-controller.component.js"></script>
  <script type="text/javascript" src="js/slice-renderer.component.js"></script>
  <script type="text/javascript" src="js/og-position.component.js"></script>
</head>

<body>
  <a-scene networked-scene>
    <a-assets>
      <a-asset-item id="microglia0" src="public/assets/0.obj"></a-asset-item>
      <a-asset-item id="microglia2" src="public/assets/2.obj"></a-asset-item>
      <a-asset-item id="microglia4" src="public/assets/4.obj"></a-asset-item>
      <a-asset-item id="microglia6" src="public/assets/6.obj"></a-asset-item>
      <a-asset-item id="microglia8" src="public/assets/8.obj"></a-asset-item>
      <a-asset-item id="microglia10" src="public/assets/10.obj"></a-asset-item>
      <a-asset-item id="microglia12" src="public/assets/12.obj"></a-asset-item>
      <a-asset-item id="microglia14" src="public/assets/14.obj"></a-asset-item>
      <a-asset-item id="microglia16" src="public/assets/16.obj"></a-asset-item>
      <a-asset-item id="microglia18" src="public/assets/18.obj"></a-asset-item>
      <a-asset-item id="microglia20" src="public/assets/20.obj"></a-asset-item>
      <a-asset-item id="microglia22" src="public/assets/22.obj"></a-asset-item>
      <a-asset-item id="microglia24" src="public/assets/24.obj"></a-asset-item>
      <a-asset-item id="microglia26" src="public/assets/26.obj"></a-asset-item>
      <a-asset-item id="microglia28" src="public/assets/28.obj"></a-asset-item>
      <a-asset-item id="microglia30" src="public/assets/30.obj"></a-asset-item>
      <a-asset-item id="microglia32" src="public/assets/32.obj"></a-asset-item>
      <a-asset-item id="microglia34" src="public/assets/34.obj"></a-asset-item>
      <a-asset-item id="microglia36" src="public/assets/36.obj"></a-asset-item>
      <a-asset-item id="microglia38" src="public/assets/38.obj"></a-asset-item>
      <a-asset-item id="microglia40" src="public/assets/40.obj"></a-asset-item>
      <a-asset-item id="microglia42" src="public/assets/42.obj"></a-asset-item>
      <a-asset-item id="microglia44" src="public/assets/44.obj"></a-asset-item>
      <a-asset-item id="microglia46" src="public/assets/46.obj"></a-asset-item>

      <a-asset-item id="channel 1" src="public/assets/Segment_1_100_islands_200_fill_holes_10B%20(1).obj"></a-asset-item>
      <a-asset-item id="channel 2" src="public/assets/channel_2_100_islands_300_fill_holes_10_median_10B%20(1).obj"></a-asset-item>

      <img id="bg2" src="public/assets/fMRI_360.jpg"/>

    </a-assets>
    <a-entity type="text/html">

      <a-entity geometry="primitive:sphere;radius:500;segmentsWidth:64;segmentsHeight:64" material="shader:flat;side:double; color:#ffffff;fog:false; src:#bg2"
        scale="-1 1 1" rotation="0 -60 0" id="photosphere2">
      </a-entity>

      <a-entity id="braincells" slide-container="target:.microglia" position="-3 -1 -5">

        <a-entity id="Microglia0" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj: #microglia0"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia2" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia2"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia4" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia4"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia6" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia6"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia8" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia8"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia10" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia10"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia12" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia12"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia14" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia14"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia16" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia16"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia18" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia18"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia20" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia20"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia22" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia22"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia24" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia24"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia26" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia26"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia28" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia28"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia30" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia30"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia32" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia32"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia34" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia34"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia36" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia36"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia38" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia38"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia40" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia40"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia42" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia42"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia44" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia44"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
        <a-entity id="Microglia46" class="microglia" visible="false" scale="0.05 0.05 0.05" rotation="-90 0 0" obj-model="obj:#microglia46"
          material="color: #ffffff" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
      </a-entity>
      <a-entity id="Channel1" class="channel" visible="true" position="3 4.5 -5" scale="0.005 0.005 0.005" rotation="0 0 0" obj-model="obj: #channel 1"
        material="color: #ff4c58" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>
      <a-entity id="Channel2" class="channel" visible="true" position="3 4.5 -5" scale="0.005 0.005 0.005" rotation="0 0 0" obj-model="obj: #channel 2"
        material="color: #4bfc77" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"></a-entity>

      <a-entity position="0 -1.5 -3">

        <a-gui-button id="channel1-button" class="cellButtons" visible="true" position="-1 0 0" width="1" height="1" material="src: #rotate-icon"
          value="C1" font-family="Helvetica" margin="0 0 0.05 0" toggle="true" assign-channel="channel:#Channel1"></a-gui-button>

        <a-gui-button id="channel2-button" class="cellButtons" visible="true" position="0 0 0" width="1" height="1" material="src: #rotate-icon"
          value="C2" font-family="Helvetica" margin="0 0 0.05 0" toggle="true" assign-channel="channel:#Channel2"></a-gui-button>

        <a-gui-button id="microglia-button" visible="true" position="1 0 0" width="1" height="1" material="src: #rotate-icon" value="MG"
          font-family="Helvetica" margin="0 0 0.05 0" toggle="true" assign-microglia></a-gui-button>

        <a-gui-button id="scaleUp-button2" visible="true" position="2 -0.25 0" width="1" height="0.5" material="src: #rotate-icon"
          value=" + " font-family="Helvetica" margin="0 0 0.05 0" toggle="true" scale-cells></a-gui-button>

        <a-gui-button id="scaleDown-button2" visible="true" position="2 0.25 0" width="1" height="0.5" material="src: #rotate-icon"
          value=" - " font-family="Helvetica" margin="0 0 0.05 0" toggle="true" scale-cells="increase: false"></a-gui-button>


        <a-gui-button id="back10" class="microgliaButtons" visible="false" position="-1 -1 0" width="1" height="1" material="src: #rotate-icon"
          value=" << " font-family="Helvetica" margin="0 0 0.05 0" toggle="true" assign-skip="container:#braincells; skip:10; back:false"></a-gui-button>

        <a-gui-button id="back1" class="microgliaButtons" visible="false" position="0 -1 0" width="1" height="1" material="src: #rotate-icon"
          value=" < " font-family="Helvetica" margin="0 0 0.05 0" toggle="true" assign-skip="back: false; container:#braincells"></a-gui-button>

        <a-gui-button id="play-button" class="microgliaButtons" visible="false" position="1 -1 -0" width="1" height="1" material="src: #rotate-icon"
          play-button="target:#braincells" value="." font-color="#22252a">
          <a-entity id="play-button-text" text="value:Play;color:#d3d3d4;align:center" position="0 0 0.041" scale="6.6 6.6 1"></a-entity>
        </a-gui-button>

        <a-gui-button id="skip1" class="microgliaButtons" visible="false" position="2 -1 0" width="1" height="1" material="src: #rotate-icon"
          value=" > " font-family="Helvetica" margin="0 0 0.05 0" toggle="true" assign-skip="container:#braincells"></a-gui-button>

        <a-gui-button id="skip10" class="microgliaButtons" visible="false" position="3 -1 0" width="1" height="1" material="src: #rotate-icon"
          value=" >> " font-family="Helvetica" margin="0 0 0.05 0" toggle="true" assign-skip="container:#braincells; skip:10"></a-gui-button>
      </a-entity>
      </a-entity>

      <a-entity id="player" wasd-controls>
        <a-camera active="true" user-height="0" position="0 2 0" look-controls>
          <a-ring cursor="fuse: false" position="0 0 -0.5" color="white" scale="0.005 0.005 0.005">
          </a-ring>
        </a-camera>
      </a-entity>
  </a-scene>
</body>

</html>