<html>

<head>
  <title>Educational Room</title>
  <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.min.js"></script>
  <script src="https://unpkg.com/aframe-animation-component@4.0.0/dist/aframe-animation-component.min.js"></script>
  <script src="https://rdub80.github.io/aframe-gui/examples/js/aframe-gui.js"></script>
  <script type="text/javascript" src="/js/cookieParser.js"></script>
  <script type="text/javascript" src="/js/raycaster-autorefresh.component.js"></script>
  <script type="text/javascript" src="/js/hide-if-not-mobile.component.js"></script>
  <script type="text/javascript" src="/js/override-material.component.js"></script>
  <script type="text/javascript" src="/js/assign-rotate.component.js"></script>
  <script type="text/javascript" src="/js/scale-brain.component.js"></script>
  <script type="text/javascript" src="/js/expand-brain.component.js"></script>
  <script type="text/javascript" src="https://unpkg.com/aframe-template-component@^3.2.1/dist/aframe-template-component.min.js"></script>
  <script type="text/javascript" src="/js/expand-position.component.js"></script>
  <script type="text/javascript" src="/js/og-position.component.js"></script>
  <script type="text/javascript" src="/js/eduRoomTeacher.component.js"></script>
  <script type="text/javascript" src="/js/dropdown.js"></script>
  <script type="text/javascript" src="/js/change-color-on-hover.component.js"></script>
  <script type="text/javascript" src="/js/toggle-structure.component.js"></script>
  <script type="text/javascript" src="/js/hover-highlight.component.js"></script>
  <script type="text/javascript" src="/js/model-opacity.component.js"></script>
</head>

<body style='margin: 0px; overflow: hidden;'>
  <a-scene eduroomteacher>
    <a-assets timeout="100000">
      <img id="bg1" src="/public/assets/bg1.jpeg">
      <img id="rotate-icon" src="/public/assets/rotate-icon.png">
      <img id="MRI-button" src="/public/assets/MRI-rough.jpg">
      <a-asset-item id="cortex-model" src="/public/assets/Cortex.glb"></a-asset-item>
      <a-asset-item id="arteries-model" src="/public/assets/Arteries.glb"></a-asset-item>
      <a-asset-item id="cerebellum-model" src="/public/assets/cerebellum.glb"></a-asset-item>
      <a-asset-item id="fornix-model" src="/public/assets/Fornix.glb"></a-asset-item>
      <a-asset-item id="hippocampus-model" src="/public/assets/Hippocampus.glb"></a-asset-item>
      <a-asset-item id="lamygdala-model" src="/public/assets/L-Amygdala.glb"></a-asset-item>
      <a-asset-item id="lcaudate-model" src="/public/assets/L-Caudate.glb"></a-asset-item>
      <a-asset-item id="lglobus-model" src="/public/assets/L-Globus.glb"></a-asset-item>
      <a-asset-item id="lputamen-model" src="/public/assets/L-Putamen.glb"></a-asset-item>
      <a-asset-item id="mamtract-model" src="/public/assets/MamilloThalamicTract.glb"></a-asset-item>
      <a-asset-item id="mambodies-model" src="/public/assets/MammillaryBodies.glb"></a-asset-item>
      <a-asset-item id="ramygdala-model" src="/public/assets/R-Amygdala.glb"></a-asset-item>
      <a-asset-item id="rcaudate-model" src="/public/assets/R-Caudate.glb"></a-asset-item>
      <a-asset-item id="rglobus-model" src="/public/assets/R-Globus.glb"></a-asset-item>
      <a-asset-item id="rputamen-model" src="/public/assets/R-Putamen.glb"></a-asset-item>
      <a-asset-item id="sinuses-model" src="/public/assets/Sinuses.glb"></a-asset-item>
      <a-asset-item id="subnigra-model" src="/public/assets/Substantia-Nigra.glb"></a-asset-item>
      <a-asset-item id="subnuclei-model" src="/public/assets/Subthalamic-Nuclei.glb"></a-asset-item>
      <a-asset-item id="thalamus-model" src="/public/assets/Thalamus.glb"></a-asset-item>
      <a-asset-item id="ventricles-model" src="/public/assets/Ventricles.glb"></a-asset-item>
    </a-assets>

    <a-entity position="0 -0.5 -2">
      <a-gui-button id="rotate-button" class="interactible" position="0 -0.5 -3" width="1" height="1" material="src: #rotate-icon"
        value="rotate" font-family="Helvetica" margin="0 0 0.05 0" assign-rotate>
      </a-gui-button>

      <a-gui-button id="scaleUp-button" class="interactible" position="-1 -0.75 -3" width="1" height="0.5" material="src: #rotate-icon"
        value=" + " font-family="Helvetica" margin="0 0 0.05 0" scale-brain>
      </a-gui-button>

      <a-gui-button id="scaleDown-button" class="interactible" position="-1 -0.25 -3" width="1" height="0.5" material="src: #rotate-icon"
        value=" - " font-family="Helvetica" margin="0 0 0.05 0" scale-brain="increase: false">
      </a-gui-button>

      <a-gui-button id="expand-button" class="interactible" position="1 -0.75 -3" width="1" height="0.5" material="src: #rotate-icon"
        value="expand" font-family="Helvetica" margin="0 0 0.05 0" expand-brain>
      </a-gui-button>

      <a-gui-button id="collapse-button" class="interactible" position="1 -0.25 -3" width="1" height="0.5" material="src: #rotate-icon"
        value="collapse" font-family="Helvetica" margin="0 0 0.05 0" expand-brain="expand: false">
      </a-gui-button>
    </a-entity>


    <a-entity id="isolate-menu" position="0 0 -4" rotation="0 0 0">
      <a-entity id="basalGangliaContainer" position="4 3.5 0" rotation="0 -30 0">
        <a-gui-flex-container flex-direction="row" justify-content="center" align-items="normal" component-padding="0.1"
          opacity="0" width="3" height="0.75" position="0 0.375 0" rotation="0 0 0">
          <a-gui-icon-label-button class="interactible" width="3" height="0.75" opendropdown="target:#basalGangliaContainer"
            icon="android-menu" value="Basal Ganglia" font-family="Arial" visible="true" role="button">
            <a-animation attribute="rotation" id="dropani" begin="opendropdown" dur="1000" fill="forwards" to="180 0 0"></a-animation>
            <a-animation attribute="visible" id="dropani1" begin="opendropdown" fill="forwards" delay="500" to="false"></a-animation>
            <a-animation attribute="rotation" id="dropaniback" begin="closedropdown" dur="1000" fill="forwards" to="0 0 0"></a-animation>
            <a-animation attribute="visible" id="dropani1back" begin="closedropdown" fill="forwards" delay="500" to="true"></a-animation>
          </a-gui-icon-label-button>
        </a-gui-flex-container>
        <a-gui-flex-container flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1"
          opacity="0" width="3" height="0.75" position="0 0 -0.15" scale="1 0.001 0.001" visible="false">
          <a-gui-button id="toggleCaudateBtn" class="interactible" material="src: #rotate-icon" value="Caudate" width="3"
            height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-caudate">
          </a-gui-button>
          <a-gui-button id="toggleGlobusBtn" class="interactible" material="src: #rotate-icon" value="Globus Pallidus"
            width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-globuspallidus">
          </a-gui-button>
          <a-gui-button id="toggleThalamusBtn" class="interactible" material="src: #rotate-icon" value="Thalamus" width="3"
            height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-thalamus">
          </a-gui-button>
          <a-gui-button id="togglePutamenBtn" class="interactible" material="src: #rotate-icon" value="Putamen" width="3"
            height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-putamen">
          </a-gui-button>
          <a-gui-button id="toggleSubthalNucleiBtn" class="interactible" material="src: #rotate-icon" value="Subthalamic Nuclei"
            width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-subthalamic">
          </a-gui-button>
          <a-gui-icon-button width="0.5" class="interactible" height="0.5" closedropdown="target:#basalGangliaContainer"
            icon="android-close" role="button">
          </a-gui-icon-button>
          <a-animation attribute="scale" id="dropvalani" begin="opendropdown" dur="1000" fill="forwards" to="1 1 1"></a-animation>
          <a-animation attribute="position" id="dropvalani1" begin="opendropdown" dur="1000" fill="forwards" to="0 0.375 0.15"></a-animation>
          <a-animation attribute="visible" id="dropvalani2" begin="opendropdown" fill="forwards" dur="100" to="true"></a-animation>

          <a-animation attribute="scale" id="dropvalaniback" begin="closedropdown" dur="1000" fill="forwards" to="1 0.001 0.001"></a-animation>
          <a-animation attribute="position" id="dropvalani1back" begin="closedropdown" dur="1000" fill="forwards" to="0 0 -0.15"></a-animation>
          <a-animation attribute="visible" id="dropvalani2back" begin="closedropdown" fill="forwards" delay="500" dur="100"
            to="false"></a-animation>
        </a-gui-flex-container>
      </a-entity>

      <a-entity id="limbicSystemContainer" position="-3.5 2.3 0" rotation="0 30 0">
        <a-gui-flex-container flex-direction="row" justify-content="center" align-items="normal" component-padding="0.1"
          opacity="0" width="3" height="0.75" position="0 0.375 0" rotation="0 0 0">
          <a-gui-icon-label-button class="interactible" width="3" height="0.75" opendropdown="target:#limbicSystemContainer"
            icon="android-menu" value="Limbic System" font-family="Arial" visible="true" role="button">
            <a-animation attribute="rotation" id="dropani" begin="opendropdown" dur="1000" fill="forwards" to="180 0 0"></a-animation>
            <a-animation attribute="visible" id="dropani1" begin="opendropdown" fill="forwards" delay="500" to="false"></a-animation>
            <a-animation attribute="rotation" id="dropaniback" begin="closedropdown" dur="1000" fill="forwards" to="0 0 0"></a-animation>
            <a-animation attribute="visible" id="dropani1back" begin="closedropdown" fill="forwards" delay="500" to="true"></a-animation>
          </a-gui-icon-label-button>
        </a-gui-flex-container>
        <a-gui-flex-container flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1"
          opacity="0" width="2.5" height="0.75" position="0 0 -0.15" rotation="0 0 0" scale="1 0.001 0.001" visible="false"
          gui-item="" geometry="" material="" gui-flex-container="">
          <a-gui-button id="toggleFornixBtn" class="interactible" material="src: #rotate-icon" value="Fornix" width="3"
            height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-fornix">
          </a-gui-button>
          <a-gui-button id="toggleHippocampusBtn" class="interactible" material="src: #rotate-icon" value="Hippocampus"
            width="3.05" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-hippocampus">
          </a-gui-button>
          <a-gui-button id="toggleAmygdalaBtn" class="interactible" material="src: #rotate-icon" value="Amygdala" width="3"
            height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-amygdala">
          </a-gui-button>
          <a-gui-button id="toggleMamBodBtn" class="interactible" material="src: #rotate-icon" value="Mammillary Bodies"
            width="3.05" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-mambodies">
          </a-gui-button>
          <a-gui-button id="toggleMamTractBtn" class="interactible" material="src: #rotate-icon" value="Mammillothallamic Tract"
            width="3.05" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-mamtract">
          </a-gui-button>
          <a-gui-button id="toggleSubNigraBtn" class="interactible" material="src: #rotate-icon" value="Substantia Nigra"
            width="3.05" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-substantianigra">
          </a-gui-button>
          <a-gui-icon-button width="0.5" class="interactible" height="0.5" closedropdown="target:#limbicSystemContainer"
            icon="android-close" role="button">
          </a-gui-icon-button>

          <a-animation attribute="scale" id="dropvalani" begin="opendropdown" dur="1000" fill="forwards" to="1 1 1"></a-animation>
          <a-animation attribute="position" id="dropvalani1" begin="opendropdown" dur="1000" fill="forwards" to="0 0.375 0.15"></a-animation>
          <a-animation attribute="visible" id="dropvalani2" begin="opendropdown" fill="forwards" dur="100" to="true"></a-animation>

          <a-animation attribute="scale" id="dropvalaniback" begin="closedropdown" dur="1000" fill="forwards" to="1 0.001 0.001"></a-animation>
          <a-animation attribute="position" id="dropvalani1back" begin="closedropdown" dur="1000" fill="forwards" to="0 0 -0.15"></a-animation>
          <a-animation attribute="visible" id="dropvalani2back" begin="closedropdown" fill="forwards" delay="500" dur="100"
            to="false"></a-animation>
        </a-gui-flex-container>
      </a-entity>

      <a-entity id="vesselsContainer" position="4 -1 0" rotation="0 -30 0">
        <a-gui-flex-container flex-direction="row" justify-content="center" align-items="normal" component-padding="0.1"
          opacity="0" width="3" height="0.75" position="0 0.375 0">
          <a-gui-icon-label-button class="interactible" width="3" height="0.75" opendropdown="target:#vesselsContainer"
            icon="android-menu" value="Vessels" font-family="Arial" visible="true" role="button">
            <a-animation attribute="rotation" id="dropani" begin="opendropdown" dur="1000" fill="forwards" to="180 0 0"></a-animation>
            <a-animation attribute="visible" id="dropani1" begin="opendropdown" fill="forwards" delay="500" to="false"></a-animation>
            <a-animation attribute="rotation" id="dropaniback" begin="closedropdown" dur="1000" fill="forwards" to="0 0 0"></a-animation>
            <a-animation attribute="visible" id="dropani1back" begin="closedropdown" fill="forwards" delay="500" to="true"></a-animation>
          </a-gui-icon-label-button>
        </a-gui-flex-container>
        <a-gui-flex-container flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1"
          opacity="0" width="3" height="0.75" position="0 0 -0.15" rotation="0 0 0" scale="1 0.001 0.001" visible="false">
          <a-gui-button id="toggleArteriesBtn" class="interactible" material="src: #rotate-icon" value="Arteries" width="3"
            height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-arteries">
          </a-gui-button>
          <a-gui-button id="toggleVentriclesBtn" class="interactible" material="src: #rotate-icon" value="Ventricles"
            width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-ventricles">
          </a-gui-button>
          <a-gui-button id="toggleSinusesBtn" class="interactible" material="src: #rotate-icon" value="Sinuses" width="3"
            height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .isolated-sinuses">
          </a-gui-button>
          <a-gui-icon-button width="0.5" class="interactible" height="0.5" closedropdown="target:#vesselsContainer"
            width="3" height="0.75" icon="android-close" role="button">
          </a-gui-icon-button>

          <a-animation attribute="scale" id="dropvalani" begin="opendropdown" dur="1000" fill="forwards" to="1 1 1"></a-animation>
          <a-animation attribute="position" id="dropvalani1" begin="opendropdown" dur="1000" fill="forwards" to="0 0.375 0.15"></a-animation>
          <a-animation attribute="visible" id="dropvalani2" begin="opendropdown" fill="forwards" dur="100" to="true"></a-animation>

          <a-animation attribute="scale" id="dropvalaniback" begin="closedropdown" dur="1000" fill="forwards" to="1 0.001 0.001"></a-animation>
          <a-animation attribute="position" id="dropvalani1back" begin="closedropdown" dur="1000" fill="forwards" to="0 0 -0.15"></a-animation>
          <a-animation attribute="visible" id="dropvalani2back" begin="closedropdown" fill="forwards" delay="500" dur="100"
            to="false"></a-animation>
        </a-gui-flex-container>
      </a-entity>
    </a-entity>
    <a-entity id="holobrain" position="0 2.4 -4" scale="1 1 1" animation__rot="property: rotation; from: 0 0 0; to: 0 360 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false">
      <a-entity id="brain-parts" scale="0.015 0.015 0.015">
        <a-entity id="arteries" class="interactible isolated-arteries" position="0 0 0" rotation="0 0 0" gltf-model="#arteries-model"
          material="side: back; color: #950714; opacity: 0.6" override-material og-position="pos: 0 0 0"
          expand-position="disappear: true" hover-highlight></a-entity>
        <a-entity id="sinuses" class="interactible isolated-sinuses" position="0 0 0" rotation="0 0 0" gltf-model="#sinuses-model"
          material="side: front; color: #003366; transparent: true; opacity: 0.6" override-material og-position="pos: 0 0 0"
          expand-position="disappear: true" hover-highlight></a-entity>
        <a-entity id="ramygdala" class="interactible isolated-amygdala" position="0 0 0" rotation="0 0 0" gltf-model="#ramygdala-model"
          material="color: #ff81b0;" override-material og-position="pos: 0 0 0" expand-position="pos: -25 -25 -25"
          hover-highlight="counterpart:#lamygdala"></a-entity>
        <a-entity id="lamygdala" class="interactible isolated-amygdala" position="0 0 0" rotation="0 0 0" gltf-model="#lamygdala-model"
          material="color: #ff81b0;" override-material og-position="pos: 0 0 0" expand-position="pos: -25 -25 25"
          hover-highlight="counterpart:#ramygdala"></a-entity>
        <a-entity id="mambodies" class="interactible isolated-mambodies" position="0 0 0" rotation="0 0 0" gltf-model="#mambodies-model"
          material="color: #00ffff;" override-material og-position="pos: 0 0 0" expand-position="pos: 0 0 0"
          hover-highlight></a-entity>
        <a-entity id="mamtract" class="interactible isolated-mamtract" position="0 0 0" rotation="0 0 0" gltf-model="#mamtract-model"
          material="color: #66cd00;" override-material og-position="pos: 0 0 0" expand-position="pos: 0 0 0"
          hover-highlight></a-entity>
        <a-entity id="hippocampus" class="interactible isolated-hippocampus" position="0 0 0" rotation="0 0 0"
          gltf-model="#hippocampus-model" material="color: #ffd700;" override-material og-position="pos: 0 0 0"
          expand-position="pos: 0 0 0" hover-highlight></a-entity>
        <a-entity id="fornix" class="interactible isolated-fornix" position="0 0 0" rotation="0 0 0" gltf-model="#fornix-model"
          material="color: #be29ec;" override-material og-position="pos: 0 0 0" expand-position="pos: 0 0 0"
          hover-highlight></a-entity>
        <a-entity id="ventricles" class="interactible isolated-ventricles" position="0 0 0" rotation="0 0 0" gltf-model="#ventricles-model"
          material="side: front; color: #3b5998; transparent: true; opacity: 0.6" override-material og-position="pos: 0 0 0"
          expand-position="pos: 0 0 0" hover-highlight></a-entity>
        <a-entity id="cerebellum" class="interactible isolated-cerebellum" position="0 0 0" rotation="0 0 0" gltf-model="#cerebellum-model"
          material="color: #ff7f50;" override-material og-position="pos: 0 0 0" expand-position="pos: 0 0 0"
          hover-highlight></a-entity>
        <a-entity id="thalamus" class="interactible isolated-thalamus" position="0 0 0" rotation="0 0 0" gltf-model="#thalamus-model"
          material="color: #008080;" override-material og-position="pos:0 0 0" expand-position="pos: 0 0 0"
          hover-highlight></a-entity>
        <a-entity id="subthalamic" class="interactible isolated-subthalamic" position="0 0 0" rotation="0 0 0"
          gltf-model="#subnuclei-model" material="color: #000000;" override-material og-position="pos: 0 0 0"
          expand-position="pos: 0 0 0" hover-highlight></a-entity>
        <a-entity id="lcaudate" class="interactible isolated-caudate" position="0 0 0" rotation="0 0 0" gltf-model="#lcaudate-model"
          material="color: #f6546a;" override-material og-position="pos: 0 0 0" expand-position="pos: 0 10 20"
          hover-highlight="counterpart:#rcaudate"></a-entity>
        <a-entity id="lputamen" class="interactible isolated-putamen" position="0 0 0" rotation="0 0 0" gltf-model="#lputamen-model"
          material="color: #45a54f;" override-material og-position="pos: 0 0 0" expand-position="pos: 0 0 50"
          hover-highlight="counterpart:#rputamen"></a-entity>
        <a-entity id="lglobuspallidus" class="interactible isolated-globuspallidus" position="0 0 0" rotation="0 0 0"
          gltf-model="#lglobus-model" material="color: #6760aa; " override-material og-position="pos: 0 0 0"
          expand-position="pos: 0 0 30" hover-highlight="counterpart:#rglobuspallidus"></a-entity>
        <a-entity id="rcaudate" class="interactible isolated-caudate" position="0 0 0" rotation="0 0 0" gltf-model="#rcaudate-model"
          material="color: #f6546a; " override-material og-position="pos: 0 0 0" expand-position="pos: 0 10 -20"
          hover-highlight="counterpart:#lcaudate"></a-entity>
        <a-entity id="rputamen" class="interactible isolated-putamen" position="0 0 0" rotation="0 0 0" gltf-model="#rputamen-model"
          material="color: #45a54f;" override-material og-position="pos: 0 0 0" expand-position="pos: 0 0 -50"
          hover-highlight="counterpart:#lputamen"></a-entity>
        <a-entity id="substantianigra" class="interactible isolated-substantianigra" position="0 0 0" rotation="0 0 0"
          gltf-model="#subnigra-model" material="color: #4d4e4f; " override-material og-position="pos: 0 0 0"
          expand-position="pos:0 0 0" hover-highlight></a-entity>
        <a-entity id="rglobuspallidus" class="interactible isolated-globuspallidus" position="0 0 0" rotation="0 0 0"
          gltf-model="#rglobus-model" material="color: #6760aa; " override-material og-position="pos: 0 0 0"
          expand-position="pos:0 0 -30" hover-highlight="counterpart:#lglobuspallidus"></a-entity>
      </a-entity>
      <a-entity id="brain-cortex" position="0 0 0" rotation="0 0 0" scale="0.015 0.015 0.015" gltf-model="#cortex-model"
        material="side: front; vertexColors: none; color: #c2d2ea; transparent: true; opacity: 0.3">
      </a-entity>
    </a-entity>
    <a-gui-label id="session" height="0.75" width="2.5" rotation="0 -20 0" position="5 0 -4" value="_"></a-gui-label>
    <a-camera active="true" user-height="0" position="0 2 0" look-controls>
      <a-ring cursor="fuse: false" raycaster="objects: .interactible" position="0 0 -0.5" color="white" scale="0.005 0.005 0.005">
      </a-ring>
    </a-camera>
  </a-scene>
</body>

</html>