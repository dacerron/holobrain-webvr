<html>

<head>
  <title>Educational Room</title>
  <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.min.js"></script>
  <script src="easyrtc/easyrtc.js"></script>
  <script src="https://unpkg.com/networked-aframe/dist/networked-aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-animation-component@4.0.0/dist/aframe-animation-component.min.js"></script>
  <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>
  <script type="text/javascript" src="js/raycaster-autorefresh.component.js"></script>
  <script type="text/javascript" src="js/hide-if-not-mobile.component.js"></script>
  <script type="text/javascript" src="js/override-material.component.js"></script>
  <script type="text/javascript" src="js/assign-rotate.component.js"></script>
  <script type="text/javascript" src="js/scale-brain.component.js"></script>
  <script type="text/javascript" src="js/expand-brain.component.js"></script>
  <script type="text/javascript" src="https://unpkg.com/aframe-template-component@^3.2.1/dist/aframe-template-component.min.js"></script>
  <script type="text/javascript" src="js/aframe.propagate.js"></script>
  <script type="text/javascript" src="js/assign-microglia.component.js"></script>
  <script type="text/javascript" src="js/assign-channel.component.js"></script>
  <script type="text/javascript" src="js/scale-cells.component.js"></script>
  <script type="text/javascript" src="js/assign-skip.component.js"></script>
  <script type="text/javascript" src="js/slide-container.component.js"></script>
  <script type="text/javascript" src="js/play-button.component.js"></script>
  <script type="text/javascript" src="js/show-mri.component.js"></script>
  <script type="text/javascript" src="js/rotate-mri.component.js"></script>
  <script type="text/javascript" src="js/rotate-mriroom.component.js"></script>
  <script type="text/javascript" src="js/slice-controller.component.js"></script>
  <script type="text/javascript" src="js/slice-renderer.component.js"></script>
  <script type="text/javascript" src="js/og-position.component.js"></script>
  <!--This needs to be moved to a seperate file START-->
  <script>
    function myThalFunction() {
      document.getElementById("isolated-Thalamus").setAttribute('color', 'yellow');
    }
  </script>
  <script>
    function mySubThalFunction() {
      document.getElementById("isolated-Subthalamic").setAttribute('color', 'purple');
    }
  </script>
  <script>
    function mySubstanFunction() {
      document.getElementById("isolated-Lsubstantianigra").setAttribute('color', 'red');
      document.getElementById("isolated-Rsubstantianigra").setAttribute('color', 'red');
    }
  </script>
  <script>
    function myPutaFunction() {
      document.getElementById("isolated-Lputamen").setAttribute('color', 'orange');
      document.getElementById("isolated-Rputamen").setAttribute('color', 'orange');
    }
  </script>
  <script>
    function myCaudFunction() {
      document.getElementById("isolated-Lcaudate").setAttribute('color', 'teal');
      document.getElementById("isolated-Rcaudate").setAttribute('color', 'teal');
    }
  </script>
  <script>
    function myGlobFunction() {
      document.getElementById("isolated-Lglobuspallidus").setAttribute('color', 'green');
      document.getElementById("isolated-Rglobuspallidus").setAttribute('color', 'green')
    }
  </script>
  <!--This needs to be moved to a seperate file END-->

</head>

<body>
  <a-scene networked-scene="
    app: educationalRoom;
    room: room1;
    debug: true;">
    <a-assets>
      <img id="bg1" src="public/assets/cell_360.jpg"/>
      <img id="rotate-icon" src="public/assets/rotate-icon.png" />
      <img id="MRI-button" src="public/assets/MRI-rough.jpg" />
      <a-asset-item id="cortex" src="public/assets/cortex_low.obj"></a-asset-item>
      <a-asset-item id="ventricle" src="public/assets/ventricle.obj"></a-asset-item>
      <a-asset-item id="thalamus" src="public/assets/thalamus.obj"></a-asset-item>
      <a-asset-item id="lcaudate" src="public/assets/left_caudate.obj"></a-asset-item>
      <a-asset-item id="subthalamic" src="public/assets/left_and_right_subthalamic.obj"></a-asset-item>
      <a-asset-item id="lsubstantianigra" src="public/assets/left_substantia_nigra.obj"></a-asset-item>
      <a-asset-item id="lglobuspallidus" src="public/assets/left_globus_pallidus.obj"></a-asset-item>
      <a-asset-item id="lputamen" src="public/assets/left_putamen.obj"></a-asset-item>
      <a-asset-item id="rcaudate" src="public/assets/right_caudate.obj"></a-asset-item>
      <a-asset-item id="rsubstantianigra" src="public/assets/right_substantia_nigra.obj"></a-asset-item>
      <a-asset-item id="rglobuspallidus" src="public/assets/right_globus_pallidus.obj"></a-asset-item>
      <a-asset-item id="rputamen" src="public/assets/right_putamen.obj"></a-asset-item>

      <template id="brain-template">
        <a-entity id="holobrain" position="0 1 -3" animation__rot="property: rotation; from: 0 0 0; to: 0 360 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false">
          <a-entity id="brain-parts" position="0 0 0" rotation="0 0 0">
            <a-box id="ventricles" position="0 0 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #ventricle" material="color: #c2d2ea;"
              animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
              change-color-on-hover="color: blue"></a-box>
            <a-box id="Thalamus" position="0 0 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #thalamus" material="color: #c2d2ea; "
              override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
              change-color-on-hover="color: yellow"></a-box>
            <a-box id="Subthalamic" position="0 -0.15 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #subthalamic" material="color: #c2d2ea;"
              override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
              change-color-on-hover="color: purple"></a-box>
            <a-box id="Lcaudate" position="0 0 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #lcaudate" material="color: #c2d2ea; "
              override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
              change-color-on-hover="color: teal"></a-box>
            <a-box id="Lputamen" position="-0.2 0.1 0.1" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #lputamen" material="color: #c2d2ea;"
              override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
              change-color-on-hover="color: orange"></a-box>
            <a-box id="Lsubstantianigra" position="-0.1 -0.2 0.05" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #lsubstantianigra"
              material="color: #c2d2ea; " override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
              change-color-on-hover="color: green"></a-box>
            <a-box id="Lglobuspallidus" position="-0.2 0.1 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #lglobuspallidus"
              material="color: #c2d2ea; " override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
              change-color-on-hover="color: red"></a-box>
            <a-box id="Rcaudate" position="0 0 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #rcaudate" material="color: #c2d2ea; "
              override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
              change-color-on-hover="color: teal"></a-box>
            <a-box id="Rputamen" position="-0.2 0.1 -0.1" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #rputamen" material="color: #c2d2ea; "
              override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
              change-color-on-hover="color: oragne"></a-box>
            <a-box id="Rsubstantianigra" position="-0.1 -0.2 -0.05" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #rsubstantianigra"
              material="color: #c2d2ea; " override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
              change-color-on-hover="color: green"></a-box>
            <a-box id="Rglobuspallidus" position="-0.2 0.1 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #rglobuspallidus"
              material="color: #c2d2ea; " override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
              change-color-on-hover="color: red"></a-box>
          </a-entity>
          <a-entity id="brain-cortex" position="0 0 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #cortex" material="side: double; color: #c2d2ea; transparent: false; opacity: 0.3"
            animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false">
          </a-entity>
        </a-entity>
      </template>

      <template id="parts">
        <a-entity id="isolated-brain-parts" position="-5 2 -1" scale="2.0 2.0 2.0">
          <a-animation attribute="rotation" dur="10000" easing="linear" to="0 360 0" repeat="indefinite">
          </a-animation>
          <a-box id="isolated-ventricles" position="0 0 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #ventricle" material="color: #c2d2ea;"
            override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
            change-color-on-hover="color: blue"></a-box>
          <a-box id="isolated-Thalamus" position="0 0 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #thalamus" material="color: #c2d2ea;"
            override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
            change-color-on-hover="color: yellow"></a-box>
          <a-box id="isolated-Subthalamic" position="-0.05 -0.11 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #subthalamic"
            material="color: #c2d2ea;" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
            change-color-on-hover="color: purple"></a-box>
          <a-box id="isolated-Lcaudate" position="0 0 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #lcaudate" material="color: #c2d2ea;"
            override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
            change-color-on-hover="color: teal"></a-box>
          <a-box id="isolated-Lputamen" position="-0.2 0.1 0.1" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #lputamen"
            material="color: #c2d2ea;" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
            change-color-on-hover="color: orange"></a-box>
          <a-box id="isolated-Lsubstantianigra" position="-0.0 -0.12 0.05" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #lsubstantianigra"
            material="color: #c2d2ea; " override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
            change-color-on-hover="color: green"></a-box>
          <a-box id="isolated-Lglobuspallidus" position="-0.2 0.1 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #lglobuspallidus"
            material="color: #c2d2ea; " override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
            change-color-on-hover="color: red"></a-box>
          <a-box id="isolated-Rcaudate" position="0 0 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #rcaudate" material="color: #c2d2ea;"
            override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
            change-color-on-hover="color: teal"></a-box>
          <a-box id="isolated-Rputamen" position="-0.2 0.1 -0.1" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #rputamen"
            material="color: #c2d2ea;" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
            change-color-on-hover="color: orange"></a-box>
          <a-box id="isolated-Rsubstantianigra" position="-0.0 -0.10 -0.05" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #rsubstantianigra"
            material="color: #c2d2ea;" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
            change-color-on-hover="color: green"></a-box>
          <a-box id="isolated-Rglobuspallidus" position="-0.2 0.1 0" scale="0.15 0.15 0.15" rotation="-90 90 0" obj-model="obj: #rglobuspallidus"
            material="color: #c2d2ea;" override-material animation__rot="property: rotation; from: -90 90 0; to: -90 450 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false"
            change-color-on-hover="color: red"></a-box>
        </a-entity>
      </template>
    </a-assets>

    <a-entity id="photosphere" geometry="primitive:sphere;radius:500;segmentsWidth:64;segmentsHeight:64" material="shader:flat;side:double; color:#ffffff;fog:false; src:#bg1"
      scale="-1 1 1" rotation="0 -80 0">
    </a-entity>

    <a-entity networked="template:#brain"></a-entity>

    <a-entity networked="template:#parts"></a-entity>

    <a-entity position="0 -0.5 -2">
      <a-gui-button id="rotate-button" position="0 -0.5 -3" width="1" height="1" material="src: #rotate-icon" value="rotate" font-family="Helvetica"
        margin="0 0 0.05 0" assign-rotate>
      </a-gui-button>

      <a-gui-button id="scaleUp-button" position="-1 -0.75 -3" width="1" height="0.5" material="src: #rotate-icon" value=" + "
        font-family="Helvetica" margin="0 0 0.05 0" scale-brain>
      </a-gui-button>

      <a-gui-button id="scaleDown-button" position="-1 -0.25 -3" width="1" height="0.5" material="src: #rotate-icon" value=" - "
        font-family="Helvetica" margin="0 0 0.05 0" scale-brain="increase: false">
      </a-gui-button>

      <a-gui-button id="expand-button" position="1 -0.75 -3" width="1" height="0.5" material="src: #rotate-icon" value="expand"
        font-family="Helvetica" margin="0 0 0.05 0" expand-brain>
      </a-gui-button>

      <a-gui-button id="collapse-button" position="1 -0.25 -3" width="1" height="0.5" material="src: #rotate-icon" value="collapse"
        font-family="Helvetica" margin="0 0 0.05 0" expand-brain="expand: false">
      </a-gui-button>

      <a-gui-button id="thalamusButton" position="-4.5 -0.5 -1.5" rotation="0 90 0" width="1" height="1" material="src: #rotate-icon"
        value="thal" font-family="Helvetica" margin="0 0 0.05 0" change-color-on-hover="color: red" onclick="myThalFunction()">
      </a-gui-button>

      <a-gui-button id="subthalamicButton" position="-4.5 -0.5 -0.5" rotation="0 90 0" width="1" height="1" material="src: #rotate-icon"
        value="subthal" font-family="Helvetica" margin="0 0 0.05 0" change-color-on-hover="color: red" onclick="mySubThalFunction()">
      </a-gui-button>

      <a-gui-button id="caudateButton" position="-4.5 -1.5 -1.5" rotation="0 90 0" width="1" height="1" material="src: #rotate-icon"
        value="caudate" font-family="Helvetica" margin="0 0 0.05 0" change-color-on-hover="color: red" onclick="myCaudFunction()">
      </a-gui-button>

      <a-gui-button id="globusButton" position="-4.5 -1.5 -0.5" rotation="0 90 0" width="1" height="1" material="src: #rotate-icon"
        value="globus" font-family="Helvetica" margin="0 0 0.05 0" change-color-on-hover="color: red" onclick="myGlobFunction()">
      </a-gui-button>

      <a-gui-button id="putamenButton" position="-4.5 0.5 -1.5" rotation="0 90 0" width="1" height="1" material="src: #rotate-icon"
        value="putam" font-family="Helvetica" margin="0 0 0.05 0" change-color-on-hover="color: red" onclick="myPutaFunction()">
      </a-gui-button>

      <a-gui-button id="substantiaButton" position="-4.5 0.5 -0.5" rotation="0 90 0" width="1" height="1" material="src: #rotate-icon"
        value="substan" font-family="Helvetica" margin="0 0 0.05 0" change-color-on-hover="color: red" onclick="mySubstanFunction()">
      </a-gui-button>
    </a-entity>
    <a-entity id="player" wasd-controls>
      <a-camera active="true" user-height="0" position="0 2 0" look-controls>
        <a-ring cursor="fuse: false" position="0 0 -0.5" color="white" scale="0.005 0.005 0.005">
        </a-ring>
      </a-camera>
    </a-entity>
  </a-scene>
</body>

</html>